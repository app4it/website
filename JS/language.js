// Translations object
const translations = {
    en: {
        // Hero Section
        heroTitle: "Real Events. Real People.<br>Right Here.",
        heroSubtitle: "Built around in-person moments, not endless feeds. Discover what's happening nearby, make plans with friends, and turn shared experiences into lasting connections.",
        requestAccess: "Request Early Access",
        submit: "SUBMIT",
        
        // Early Access Page
        earlyAccessTitle: "Request Early Access",
        earlyAccessSubtitle: "Be among the first to experience a new way of connecting at events. Join our waitlist today!",
        joinWaitlist: "Join the Waitlist",
        
        // Values Section
        ourValues: "Our Values",
        keepItReal: "Keep It Real",
        keepItRealDesc: "We celebrate authenticity. Real people, real interests, and real connections. No filters, no fakes. Just honest experiences that feel like you.",
        safetyFirst: "Safety First, Always",
        safetyFirstDesc: "From who you meet to what you share, everything is built to keep you secure. Trust is the foundation for great times, so we take it seriously.",
        connectWithPurpose: "Connect With Purpose",
        connectWithPurposeDesc: "It's not about meeting everyone, but about finding the right ones. Be ready to spark genuine connections and build communities around what you love.",
        poweredByJoy: "Powered by Joy",
        poweredByJoyDesc: "No more endless scrolling just to feel entertained. There's always something to do, someone to join, and a good time waiting. Boredom doesn't stand a chance.",
        
        // Features Section
        ourFeatures: "Our Features",
        seeWhatsHappening: "See What's Happening",
        seeWhatsHappeningDesc: "Stay in the loop with everything going on around you. No more FOMO, no more \"I didn't know that was happening.\"",
        eventsMadeForYou: "Events Made for You",
        eventsMadeForYouDesc: "Explore gatherings that match your vibe. Whether you're into art, music, or something in between, your city has more than you think.",
        startSomething: "Start Something",
        startSomethingDesc: "Create your own events and bring people together. It's easy, fast, and surprisingly fun to see who shows up.",
        realFriendsOnly: "Real Friends Only",
        realFriendsOnlyDesc: "Add only the people you've met in person. Connections happen in real life. We're just here to keep them going.",
        rememberTogether: "Remember Together",
        rememberTogetherDesc: "Built for real-life friendships. Capture moments from shared events and relive them with the people who were actually there.",
        makeItYours: "Make It Yours",
        makeItYoursDesc: "Customize your profile to reflect your vibe: username, photo, stats and all.",
        discoverEvents: "Discover & Create Events",
        discoverEventsDesc: "Find exciting local events or create your own gatherings. From parties to book clubs, there's something for everyone.",
        authenticConnections: "Authentic Connections",
        authenticConnectionsDesc: "Connect with new friends by scanning their QR code in person - ensuring all connections are true and meaningful.",
        shareMemories: "Share Memories",
        shareMemoriesDesc: "Capture and share moments from events, creating lasting memories with your new friends.",
        stayConnected: "Stay Connected",
        stayConnectedDesc: "Chat with your connections, comment on memories, and plan future meetups together.",
        
        // Experience Section
        experienceTitle: "Experience Real Connections",
        
        // Privacy and Form
        viewPrivacy: "View Privacy Details",
        privacyText: "We use Brevo as our marketing platform. By submitting this form you agree that the personal data you provided will be transferred to Brevo for processing in accordance with",
        privacyPolicy: "Brevo's Privacy Policy",
        agreeText: "I agree to receive news and updates provided by App4it and accept the data privacy statement.",
        unsubscribeText: "You may unsubscribe at any time using the link in our e-mail updates.",
        acceptPrivacy: "Please accept the privacy policy to continue.",
        
        // Footer
        copyright: "Â© 2025 App4it Project Team. All rights reserved.",
        impressum: "Imprint",
        
        // Success Page
        successTitle: "Woohoo! You're in! ðŸŽ‰",
        successSubtitle: "High five! âœ‹ You're officially on the waitlist for the coolest way to meet new friends. Get ready for adventures that are way better than scrolling! Are you App4it?",
        backToHome: "Back to homepage",
        
        // Impressum Page
        impressumTitle: "Imprint",
        impressumBackToHome: "Back to Homepage",
        projectDetails: "Project Details",
        projectName: "App4it Project",
        projectTeam: "Project Team",
        address: "Contact Address",
        contact: "Contact",
        responsibleContent: "Responsible for Content",
        country: "Germany",
        projectDisclaimer: "Project Status",
        projectDisclaimerText: "App4it is currently a pre-launch project developed by a team of four individuals. This website serves to provide information about our upcoming service.",
        
        // Navigation
        aboutUs: "About Us",
        
        // About Page
        aboutTitle: "Meet the App4it Team",
        aboutSubtitle: "We're a passionate team of four, dedicated to revolutionizing how people connect at events and build lasting friendships.",
        ourMission: "Our Mission",
        missionText: "To redefine social connection in the digital age by encouraging authentic, in-person interactions. We're bringing back the magic of real-world connections while embracing modern technology to make it happen.",
        ourVision: "Our Vision",
        visionText: "A world where technology enhances real-life social experiences instead of replacing them. We believe in creating meaningful friendships that start with shared moments and grow through genuine interactions.",
        ourMotivation: "What Drives Us",
        motivationText: "We're passionate about bringing the joy of human connection back into our tech-driven world. By creating a platform that celebrates real-world interactions and makes discovering local events effortless, we're making it easier than ever to build authentic friendships in your community.",
        meetTheTeam: "Our team",
        
        // Team Descriptions
        juliaDesc: "Frontend developer and JIRA expert. Creating colorful chaos with watercolors and calling it art in my free time.",
        savoDesc: "Specializing in AI/ML and databases. Proudly serving my cat's every whim in my free time.",
        sophiaDesc: "Frontend developer and UX/UI designer. If you want a knitted plushie, send me a DM.",
        marinDesc: "Passionate about security, forced to also do backend development. I like to lie to myself that I am a decent motorcycle rider.",
    },
    de: {
        // Hero Section
        heroTitle: "Echte Events. Echte Menschen.<br>Genau Hier.",
        heroSubtitle: "Jedes Event ist eine Chance, jemand Besonderes kennenzulernen. App4it hilft dir, diese persÃ¶nlichen Begegnungen durch gemeinsame Erlebnisse in dauerhafte Freundschaften zu verwandeln.",
        requestAccess: "FrÃ¼hen Zugang Anfragen",
        submit: "ABSENDEN",
        
        // Early Access Page
        earlyAccessTitle: "FrÃ¼hen Zugang Anfragen",
        earlyAccessSubtitle: "Sei einer der Ersten, die eine neue Art der Verbindung bei Events erleben. Trage dich heute in unsere Warteliste ein!",
        joinWaitlist: "Warteliste Beitreten",
        
        // Values Section
        ourValues: "Unsere Werte",
        keepItReal: "Keep It Real",
        keepItRealDesc: "Wir feiern AuthentizitÃ¤t. Echte Menschen, echte Interessen und echte Verbindungen. Keine Filter, keine Fakes. Nur ehrliche Erfahrungen, die dir gefallen.",
        safetyFirst: "Safety First, Always",
        safetyFirstDesc: "Von wem du kennst bis zu dem, was du teilst, alles ist darauf ausgelegt, dich zu sichern. Vertrauen ist die Grundlage fÃ¼r groÃŸartige Zeiten, also nehmen wir es ernst.",
        connectWithPurpose: "Connect With Purpose",
        connectWithPurposeDesc: "Es geht nicht darum, jeden zu treffen, sondern darum, die richtigen zu finden. Sei bereit, echte Verbindungen zu entfachen und Gemeinschaften um das zu schaffen, was dich am meisten liebt.",
        poweredByJoy: "Powered by Joy",
        poweredByJoyDesc: "Kein endloses Scrollen mehr, nur um unterhalten zu werden. Es gibt immer etwas zu tun, jemanden zum Mitmachen und eine gute Zeit, die wartet. Langeweile hat keine Chance.",
        
        // Features Section
        ourFeatures: "Unsere Features",
        seeWhatsHappening: "Sehen, was passiert",
        seeWhatsHappeningDesc: "Bleib im Loop mit allem, was um dich herum passiert. Kein FOMO, keine \"Ich wusste nicht, dass das passiert.\"",
        eventsMadeForYou: "Events fÃ¼r dich",
        eventsMadeForYouDesc: "Entdecke Treffen, die zu deinem Vibe passen. Ob du in die Kunst, Musik oder etwas dazwischen gehst, deine Stadt hat mehr als du denkst.",
        startSomething: "Starte etwas",
        startSomethingDesc: "Erstelle deine eigenen Treffen und bringe Leute zusammen. Es ist einfach, schnell und Ã¼berraschend erfreulich, zu sehen, wer auftaucht.",
        realFriendsOnly: "Nur echte Freunde",
        realFriendsOnlyDesc: "FÃ¼ge nur die Menschen hinzu, die du persÃ¶nlich kennst. Verbindungen passieren in der RealitÃ¤t. Wir sind hier nur, um sie fortzufÃ¼hren.",
        rememberTogether: "Gedenken zusammen",
        rememberTogetherDesc: "Fang Momente von Ereignissen auf und teile Erinnerungen mit den Menschen, die sie speziell gemacht haben.",
        makeItYours: "Mach es zu deinem",
        makeItYoursDesc: "Stelle dein Profil auf dein Vibe ein: Benutzername, Foto, Statistiken und alles.",
        discoverEvents: "Entdecke & Erstelle Events",
        discoverEventsDesc: "Finde spannende lokale Events oder erstelle deine eigenen Treffen. Von Partys bis zu Buchclubs ist fÃ¼r jeden etwas dabei.",
        authenticConnections: "Authentische Verbindungen",
        authenticConnectionsDesc: "Verbinde dich mit neuen Freunden durch Scannen ihres QR-Codes vor Ort - so sind alle Verbindungen echt und bedeutungsvoll.",
        shareMemories: "Teile Erinnerungen",
        shareMemoriesDesc: "Halte Momente von Events fest und teile sie mit deinen neuen Freunden.",
        stayConnected: "Bleib in Verbindung",
        stayConnectedDesc: "Chatte mit deinen Kontakten, kommentiere Erinnerungen und plane zukÃ¼nftige Treffen.",
        
        // Experience Section
        experienceTitle: "Erlebe Echte Verbindungen",
        
        // Privacy and Form
        viewPrivacy: "Datenschutzdetails Anzeigen",
        privacyText: "Wir nutzen Brevo als unsere Marketing-Plattform. Durch das Absenden dieses Formulars erklÃ¤ren Sie sich damit einverstanden, dass die von Ihnen angegebenen personenbezogenen Daten zur Verarbeitung an Brevo Ã¼bermittelt werden gemÃ¤ÃŸ",
        privacyPolicy: "Brevo's DatenschutzerklÃ¤rung",
        agreeText: "Ich stimme zu, Neuigkeiten und Updates von App4it zu erhalten und akzeptiere die DatenschutzerklÃ¤rung.",
        unsubscribeText: "Sie kÃ¶nnen sich jederzeit Ã¼ber den Link in unseren E-Mail-Updates abmelden.",
        acceptPrivacy: "Bitte akzeptieren Sie die DatenschutzerklÃ¤rung, um fortzufahren.",
        
        // Footer
        copyright: "Â© 2025 App4it Projektteam. Alle Rechte vorbehalten.",
        impressum: "Impressum",
        
        // Success Page
        successTitle: "Juhu! Du bist dabei! ðŸŽ‰",
        successSubtitle: "High five! âœ‹ Du bist jetzt offiziell auf der Warteliste fÃ¼r die coolste Art, neue Freunde zu finden. Mach dich bereit fÃ¼r Abenteuer, die viel besser sind als Scrollen! Bist du App4it?",
        backToHome: "ZurÃ¼ck zur Startseite",
        
        // Impressum Page
        impressumTitle: "Impressum",
        impressumBackToHome: "ZurÃ¼ck zur Startseite",
        projectDetails: "Projektdetails",
        projectName: "App4it Projekt",
        projectTeam: "Projektteam",
        address: "Kontaktadresse",
        contact: "Kontakt",
        responsibleContent: "Inhaltlich Verantwortlicher",
        country: "Deutschland",
        projectDisclaimer: "Projektstatus",
        projectDisclaimerText: "App4it ist derzeit ein Vorstart-Projekt, das von einem Team aus vier Personen entwickelt wird. Diese Website dient dazu, Informationen Ã¼ber unseren kommenden Service bereitzustellen.",
        
        // Navigation
        aboutUs: "Ãœber Uns",
        
        // About Page
        aboutTitle: "Das App4it Team",
        aboutSubtitle: "Wir sind ein engagiertes Team von vier Personen, das sich der Revolution der Art und Weise verschrieben hat, wie Menschen bei Veranstaltungen Kontakte knÃ¼pfen und dauerhafte Freundschaften aufbauen.",
        ourMission: "Unsere Mission",
        missionText: "Die soziale Verbindung im digitalen Zeitalter neu zu definieren, indem wir authentische persÃ¶nliche Interaktionen fÃ¶rdern. Wir bringen die Magie echter Begegnungen zurÃ¼ck und nutzen moderne Technologie, um dies zu ermÃ¶glichen.",
        ourVision: "Unsere Vision",
        visionText: "Eine Welt, in der Technologie echte soziale Erfahrungen bereichert, anstatt sie zu ersetzen. Wir glauben an bedeutungsvolle Freundschaften, die durch gemeinsame Momente entstehen und durch echte Interaktionen wachsen.",
        ourMotivation: "Was uns antreibt",
        motivationText: "Wir setzen uns leidenschaftlich dafÃ¼r ein, die Freude an menschlicher Verbindung in unsere technologiegetriebene Welt zurÃ¼ckzubringen. Durch eine Plattform, die echte Interaktionen feiert und das Entdecken lokaler Events mÃ¼helos macht, erleichtern wir es mehr denn je, authentische Freundschaften in deiner Community aufzubauen.",
        meetTheTeam: "Das Team",
        
        // Team Descriptions
        juliaDesc: "Frontend-Entwicklerin und JIRA-Expertin. In meiner Freizeit erschaffe ich buntes Chaos mit Aquarellfarben und nenne es Kunst.",
        savoDesc: "Spezialisiert auf KI/ML und Datenbanken. In meiner Freizeit erfÃ¼lle ich stolz jeden Wunsch meiner Katze.",
        sophiaDesc: "Frontend-Entwicklerin und UX/UI-Designerin. Wenn du ein gestricktes PlÃ¼schtier mÃ¶chtest, schick mir eine DM.",
        marinDesc: "Leidenschaftlich in Sicherheit, zwangsweise auch Backend-Entwickler. Ich belÃ¼ge mich gerne selbst damit, dass ich ein anstÃ¤ndiger Motorradfahrer bin.",
    }
};

// Function to detect browser language
function detectBrowserLanguage() {
    const browserLang = navigator.language.toLowerCase().split('-')[0];
    return browserLang === 'de' ? 'de' : 'en';
}

// Function to set the page language
function setPageLanguage(lang) {
    console.log('Setting page language to:', lang);
    
    // Store the selected language
    localStorage.setItem('preferredLanguage', lang);
    
    // Update HTML lang attribute
    document.documentElement.lang = lang;
    
    // Update flag visibility - show the opposite flag of current language
    const langToggle = document.querySelector('.lang-toggle');
    if (langToggle) {
        const enFlag = langToggle.querySelector('.flag-en');
        const deFlag = langToggle.querySelector('.flag-de');
        if (lang === 'en') {
            enFlag.style.display = 'none';
            deFlag.style.display = 'block';
        } else {
            enFlag.style.display = 'block';
            deFlag.style.display = 'none';
        }
    }
    
    // Update all translatable elements
    const elements = document.querySelectorAll('[data-i18n]');
    console.log('Found', elements.length, 'elements with data-i18n');
    
    elements.forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[lang][key]) {
            console.log('Translating', key, 'to:', translations[lang][key]);
            if (element.tagName === 'INPUT' && element.type === 'submit') {
                element.value = translations[lang][key];
            } else if (element.tagName === 'INPUT' && element.type === 'placeholder') {
                element.placeholder = translations[lang][key];
            } else {
                // Special handling for privacy text that needs concatenation
                if (key === 'privacyText') {
                    const privacyLink = element.nextElementSibling;
                    if (privacyLink && privacyLink.hasAttribute('data-i18n')) {
                        element.innerHTML = translations[lang][key];
                        privacyLink.innerHTML = translations[lang][privacyLink.getAttribute('data-i18n')];
                    }
                } else {
                    element.innerHTML = translations[lang][key];
                }
            }
        } else {
            console.warn('Translation not found for key:', key, 'in language:', lang);
        }
    });
}

// Force refresh translations (can be called from console)
function forceRefreshTranslations() {
    console.log('Force refreshing translations...');
    const currentLang = document.documentElement.lang || 'en';
    setPageLanguage(currentLang);
}

// Make it available globally for debugging
window.forceRefreshTranslations = forceRefreshTranslations;

// Initialize language settings
document.addEventListener('DOMContentLoaded', () => {
    console.log('Language.js loaded - DOM ready');
    
    // Check for stored language preference
    const storedLang = localStorage.getItem('preferredLanguage');
    const initialLang = storedLang || detectBrowserLanguage();
    
    console.log('Initial language:', initialLang);
    console.log('Stored language:', storedLang);
    console.log('Detected browser language:', detectBrowserLanguage());
    
    // Set initial language
    setPageLanguage(initialLang);
    
    // Add click handler to language toggle
    const langToggle = document.querySelector('.lang-toggle');
    if (langToggle) {
        console.log('Language toggle found');
        langToggle.addEventListener('click', () => {
            console.log('Language toggle clicked');
            const currentLang = document.documentElement.lang;
            const newLang = currentLang === 'en' ? 'de' : 'en';
            console.log('Switching from', currentLang, 'to', newLang);
            setPageLanguage(newLang);
        });
    } else {
        console.error('Language toggle not found!');
    }
    
    // Test if translations are working
    console.log('Available translations:', Object.keys(translations.en));
    console.log('Sample translation:', translations.en.heroTitle);
}); 